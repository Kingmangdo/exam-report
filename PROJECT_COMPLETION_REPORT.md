# 독강영어학원 ERP 시스템 - 프로젝트 완성 보고서

**작성일**: 2026년 2월  
**버전**: 2.0.0  
**프로젝트명**: 독강영어학원 종합 운영 관리 시스템 (ERP)

---

## 📋 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [시스템 아키텍처](#2-시스템-아키텍처)
3. [기술 스택](#3-기술-스택)
4. [주요 기능](#4-주요-기능)
5. [데이터베이스 구조](#5-데이터베이스-구조)
6. [개발 완료 내역](#6-개발-완료-내역)
7. [배포 정보](#7-배포-정보)
8. [시스템 규모](#8-시스템-규모)

---

## 1. 프로젝트 개요

### 1.1 목적
독강영어학원의 학생 관리, 성적 관리, 예약 관리, 보강 관리 등 학원 운영 전반을 효율적으로 관리할 수 있는 통합 ERP 시스템을 구축했습니다.

### 1.2 핵심 가치
- **비개발자 친화적 UI/UX**: 직관적인 인터페이스로 누구나 쉽게 사용 가능
- **자동화된 성적 발송**: 성적 입력 시 카카오톡 알림톡으로 학부모에게 자동 발송
- **통합 관리**: 학생, 성적, 예약, 보강, 상담일지 등을 한 곳에서 관리
- **권한 분리**: 관리자와 강사의 접근 권한을 분리하여 보안 강화

### 1.3 개발 기간
- **Phase 1 (기본 성적표 시스템)**: 2026년 1월
- **Phase 2 (ERP 확장)**: 2026년 1월 ~ 2월
- **총 개발 기간**: 약 2개월

---

## 2. 시스템 아키텍처

### 2.1 전체 구조

```
┌─────────────────────────────────────────────────────────┐
│                    사용자 (브라우저)                      │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│              프론트엔드 (Vue.js 3)                        │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐            │
│  │ 학생관리  │  │ 성적입력  │  │ 예약관리  │  ...        │
│  └──────────┘  └──────────┘  └──────────┘            │
└────────────────────┬────────────────────────────────────┘
                     │ HTTP/REST API
                     ▼
┌─────────────────────────────────────────────────────────┐
│            백엔드 (Node.js + Express)                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐            │
│  │ Routes   │  │Controllers│  │  Models  │            │
│  └──────────┘  └──────────┘  └──────────┘            │
└────────────────────┬────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│         데이터베이스 (Supabase - PostgreSQL)            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐            │
│  │ Students │  │  Scores  │  │Reservations│  ...      │
│  └──────────┘  └──────────┘  └──────────┘            │
└─────────────────────────────────────────────────────────┘
                     │
                     ▼
┌─────────────────────────────────────────────────────────┐
│         외부 서비스 연동                                  │
│  ┌──────────┐  ┌──────────┐                            │
│  │ 알리고 API│  │ 카카오톡  │                            │
│  └──────────┘  └──────────┘                            │
└─────────────────────────────────────────────────────────┘
```

### 2.2 프로젝트 폴더 구조

```
exam-report-main/
├── frontend/                    # Vue.js 프론트엔드
│   ├── src/
│   │   ├── views/              # 페이지 컴포넌트
│   │   │   ├── StudentsView.vue
│   │   │   ├── ScoreNewView.vue
│   │   │   ├── ScoresView.vue
│   │   │   ├── ReservationsView.vue
│   │   │   ├── ClassesView.vue
│   │   │   └── ...
│   │   ├── components/          # 재사용 컴포넌트
│   │   ├── services/            # API 서비스
│   │   ├── router/              # 라우팅 설정
│   │   └── types/               # TypeScript 타입
│   └── package.json
│
├── backend/                     # Node.js 백엔드
│   ├── routes/                  # API 라우트
│   │   ├── students.js
│   │   ├── scores.js
│   │   ├── reservations.js
│   │   └── ...
│   ├── controllers/             # 비즈니스 로직
│   ├── models/                  # 데이터 모델
│   ├── middleware/               # 인증/권한 미들웨어
│   └── server.js                 # 서버 진입점
│
├── supabase/                    # 데이터베이스 스키마
│   ├── schema.sql                # 전체 스키마
│   └── add_created_at_to_students.sql
│
└── docs/                        # 문서
    ├── PROJECT_COMPLETION_REPORT.md
    ├── OPERATION_GUIDE.md
    └── ...
```

---

## 3. 기술 스택

### 3.1 프론트엔드
- **프레임워크**: Vue.js 3 (Composition API)
- **빌드 도구**: Vite
- **스타일링**: Tailwind CSS
- **타입**: TypeScript
- **라우팅**: Vue Router
- **HTTP 클라이언트**: Axios

### 3.2 백엔드
- **런타임**: Node.js (ES Modules)
- **프레임워크**: Express.js
- **인증**: JWT (JSON Web Token)
- **파일 처리**: Multer (Excel 업로드)

### 3.3 데이터베이스
- **플랫폼**: Supabase (PostgreSQL 기반)
- **ORM**: Supabase Client Library
- **Row Level Security (RLS)**: 활성화

### 3.4 외부 서비스
- **카카오톡 알림톡**: 알리고(Aligo) API
- **배포**: 
  - 프론트엔드: Vercel
  - 백엔드: 자체 서버 (PM2)

### 3.5 개발 도구
- **버전 관리**: Git + GitHub
- **패키지 관리**: npm
- **프로세스 관리**: PM2

---

## 4. 주요 기능

### 4.1 학생 관리
- ✅ 학생 등록/수정/삭제
- ✅ Excel 일괄 업로드 (양식 다운로드 제공)
- ✅ 반 배정 (다중 반 지원)
- ✅ 등록일시 수동 설정 가능
- ✅ 등록일시 기준 정렬
- ✅ 학생별 상담일지 관리

### 4.2 반 관리
- ✅ 반 생성/수정/삭제
- ✅ 반 카테고리 관리 (정규반, 보강반 등)
- ✅ 반별 학습 로그 기록
- ✅ 반별 학생 목록 조회

### 4.3 성적 관리

#### Daily Report (일일 성적)
- ✅ RT 점수 입력 (다중 RT 지원)
- ✅ 단어 시험 점수 입력 (다중 단어 시험 지원)
- ✅ 과제 점수 입력
- ✅ 재시험 표기 (단어 시험 84점 이하)
- ✅ 코멘트 입력 (재시험 시 자동 생성, 수동 수정 가능)
- ✅ 반평균 자동 계산 (0점 학생 제외)
- ✅ 개별 학생 저장 기능
- ✅ 임시저장 기능 (localStorage)

#### Bimonthly Test (바이먼슬리 테스트)
- ✅ 파트별 점수 입력 (Listening, Grammar, Reading 등)
- ✅ 총점/평균 자동 계산
- ✅ 성적표 생성 및 발송

### 4.4 성적 발송
- ✅ 카카오톡 알림톡 자동 발송
- ✅ 개별/일괄 발송 지원
- ✅ 발송 상태 실시간 표시
- ✅ 발송 이력 관리
- ✅ 성적표 링크 생성 (7일 유효기간)
- ✅ 학부모 인증 (학생 이름 + 연락처 뒷4자리)

### 4.5 예약 관리 (관리자 전용)
- ✅ 예약자 등록/수정/삭제
- ✅ 레벨테스트 성적 입력
- ✅ 레벨테스트 성적표 생성 및 발송
- ✅ 입학 처리 (예약자 → 학생 자동 등록)
- ✅ 예약 상태 관리 (예약, 방문완료, 취소, 입학)

### 4.6 보강 관리
- ✅ 보강 일정 등록/수정/삭제
- ✅ 보강 참여 학생 관리
- ✅ 출석 상태 관리
- ✅ 학생별 보강 이력 조회

### 4.7 사용자 관리
- ✅ 로그인/로그아웃
- ✅ 권한 분리 (관리자/강사)
- ✅ 관리자 전용 메뉴 (예약 관리, 설정)
- ✅ 사용자 추가/수정/삭제

### 4.8 통계 및 대시보드
- ✅ 전체 학생 수
- ✅ 오늘 성적 입력 현황
- ✅ 최근 성적 추이
- ✅ 발송 현황

---

## 5. 데이터베이스 구조

### 5.1 주요 테이블

| 테이블명 | 설명 | 주요 컬럼 |
|---------|------|----------|
| `students` | 학생 정보 | id, name, grade, school, class_name, parent_phone, created_at |
| `classes` | 반 정보 | id, name, category, teacher_name, description |
| `scores` | Daily Report 성적 | id, student_id, exam_date, rt_details, word_details, average_score, class_average |
| `bimonthly_scores` | 바이먼슬리 테스트 성적 | id, student_id, exam_date, parts, total_score, average_score |
| `reservations` | 예약자 정보 | id, name, visit_date, status, student_phone, parent_phone |
| `level_test_scores` | 레벨테스트 성적 | id, reservation_id, test_date, parts, total_score |
| `supplementary_sessions` | 보강 일정 | id, class_id, session_date, content |
| `supplementary_students` | 보강 참여 학생 | id, session_id, student_id, attendance_status |
| `counseling_logs` | 상담일지 | id, student_id, counselor_name, category, content, consultation_date |
| `users` | 사용자 (관리자/강사) | id, username, password, name, role |
| `kakao_send_history` | 카카오톡 발송 이력 | id, student_id, score_id, send_status, send_at |

### 5.2 데이터베이스 특징
- **Row Level Security (RLS)**: 활성화
- **외래키 제약조건**: CASCADE 삭제 지원
- **자동 타임스탬프**: `created_at`, `updated_at` 자동 관리
- **JSONB 타입**: 성적 상세 정보 저장 (rt_details, word_details, parts)

---

## 6. 개발 완료 내역

### 6.1 Phase 1: 기본 성적표 시스템 ✅
- [x] 학생 정보 관리
- [x] Daily Report 성적 입력
- [x] 성적표 생성 및 카카오톡 발송
- [x] 성적표 인증 및 보기
- [x] 발송 이력 관리

### 6.2 Phase 2: ERP 확장 ✅
- [x] 학생 정보 고도화 (학교, 담임 선생님 추가)
- [x] 상담일지 모듈
- [x] 권한 관리 (관리자/강사 분리)
- [x] 반 관리 (카테고리별)
- [x] 예약 관리 (레벨테스트 포함)
- [x] 보강 관리
- [x] 바이먼슬리 테스트 성적 관리
- [x] Excel 일괄 업로드
- [x] 등록일시 관리

### 6.3 주요 개선 사항
- ✅ 반평균 계산 로직 개선 (0점 학생 제외, 일괄 업데이트)
- ✅ 코멘트 수동 수정 기능 (재시험 자동 생성 문구 덮어쓰기 가능)
- ✅ 개별 학생 저장 기능 (성능 개선)
- ✅ 모달 외부 클릭 시 닫힘 방지
- ✅ 개발/운영 환경 분리 (Supabase 프로젝트 분리)

---

## 7. 배포 정보

### 7.1 배포 환경
- **프론트엔드**: Vercel (자동 배포)
- **백엔드**: 자체 서버 (PM2로 프로세스 관리)
- **데이터베이스**: Supabase (운영/개발 프로젝트 분리)

### 7.2 환경 변수
**백엔드 (.env)**
```
PORT=3000
SUPABASE_URL=<운영 Supabase URL>
SUPABASE_SERVICE_ROLE_KEY=<운영 Service Role Key>
JWT_SECRET=<JWT 비밀키>
ALIGO_API_KEY=<알리고 API 키>
ALIGO_USER_ID=<알리고 사용자 ID>
ALIGO_SENDER=<발신번호>
```

**프론트엔드 (.env)**
```
VITE_API_URL=<백엔드 API URL>
```

### 7.3 배포 프로세스
1. 코드 변경 후 GitHub에 푸시
2. 서버에서 `git pull origin main`
3. 백엔드 재시작: `pm2 restart dk-backend`
4. 프론트엔드는 Vercel 자동 배포

---

## 8. 시스템 규모

### 8.1 사용자
- **관리자**: 1명 (원장)
- **강사**: 3-4명
- **총 동시 접속자**: 최대 5명

### 8.2 데이터 규모
- **학생 수**: 약 100-150명
- **일일 성적 입력**: 약 50건
- **월간 성적 데이터**: 약 1,000-1,500건

### 8.3 성능
- **응답 시간**: 평균 200ms 이하
- **동시 처리**: 최대 10명 동시 접속 가능
- **데이터베이스**: Supabase 무료 플랜 사용 중

---

## 9. 향후 개선 계획

### 9.1 단기 (1-3개월)
- [ ] 성적 통계 그래프 추가
- [ ] 알림톡 템플릿 다양화
- [ ] 모바일 반응형 UI 개선

### 9.2 중기 (3-6개월)
- [ ] 자동 백업 시스템 구축 (Supabase Pro 플랜 전환 검토)
- [ ] 성적 데이터 분석 대시보드
- [ ] SMS 발송 기능 추가

### 9.3 장기 (6개월 이상)
- [ ] 모바일 앱 개발
- [ ] 학부모 포털 (성적 조회, 상담 신청)
- [ ] 결제 시스템 연동

---

## 10. 참고 문서

- [운영 가이드](./OPERATION_GUIDE.md)
- [프로젝트 계획서](./PROJECT_PLAN.md)
- [데이터베이스 가이드](./DATA_STORAGE_GUIDE.md)
- [Excel 업로드 가이드](./EXCEL_UPLOAD_GUIDE.md)

---

**작성자**: 개발팀  
**최종 수정일**: 2026년 2월  
**문의**: GitHub Issues 또는 이메일
