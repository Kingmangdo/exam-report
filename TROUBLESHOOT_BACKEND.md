# 백엔드 접속 문제 해결 가이드

## 🔍 문제 진단

프론트엔드는 실행되지만 백엔드에 접속이 안 되는 경우

---

## ✅ 확인 사항

### 1. 백엔드 서버가 실행 중인지 확인

백엔드 터미널에서 다음 메시지가 보여야 합니다:
```
✅ 데이터베이스 초기화 완료
🚀 서버가 http://localhost:5000 에서 실행 중입니다.
```

### 2. 브라우저에서 직접 확인

브라우저에서 다음 주소를 열어보세요:
```
http://localhost:5000/api/health
```

**예상 응답:**
```json
{
  "status": "ok",
  "message": "독강영어학원 성적표 시스템 API 서버가 정상 작동 중입니다.",
  "timestamp": "2026-01-25T..."
}
```

---

## 🚨 일반적인 문제와 해결

### 문제 1: 포트 5000이 이미 사용 중

**증상:**
```
❌ 포트 5000이 이미 사용 중입니다.
```

**해결:**
1. 다른 터미널이나 프로세스에서 포트 5000을 사용 중인지 확인
2. 또는 `.env` 파일에서 포트 변경:
   ```env
   PORT=3001
   ```

### 문제 2: 데이터베이스 초기화 실패

**증상:**
```
❌ 데이터베이스 초기화 실패: [에러 메시지]
```

**해결:**
1. `backend/database/` 폴더 권한 확인
2. 데이터베이스 파일이 잠겨있는지 확인
3. 백엔드 서버 재시작

### 문제 3: CORS 에러

**증상:**
브라우저 콘솔에서:
```
Access to XMLHttpRequest blocked by CORS policy
```

**해결:**
- 이미 CORS 설정이 되어 있지만, 백엔드 서버를 재시작해보세요

---

## 🔧 백엔드 서버 재시작

1. 백엔드 터미널에서 `Ctrl + C`로 서버 종료
2. 다시 실행:
   ```cmd
   cd C:\Users\HP\Desktop\DK_English\exam-report\backend
   npm.cmd run dev
   ```

---

## 📝 백엔드 로그 확인

백엔드 터미널에서 다음을 확인하세요:

1. **서버 시작 메시지**
   ```
   ✅ 데이터베이스 초기화 완료
   🚀 서버가 http://localhost:5000 에서 실행 중입니다.
   ```

2. **API 요청 로그**
   - 프론트엔드에서 요청을 보내면 백엔드 터미널에 로그가 나타납니다

3. **에러 메시지**
   - 빨간색 에러 메시지가 있으면 복사해서 알려주세요

---

## 🧪 테스트 방법

### 1. 백엔드 직접 테스트

터미널에서:
```cmd
curl http://localhost:5000/api/health
```

또는 브라우저에서:
```
http://localhost:5000/api/health
```

### 2. 프론트엔드에서 테스트

브라우저 개발자 도구 (F12) → Network 탭:
- 프론트엔드에서 API 요청을 보낼 때
- 요청이 `http://localhost:5000/api/...`로 가는지 확인
- 응답 상태 코드 확인 (200이면 정상)

---

## 💡 빠른 해결

1. **백엔드 서버 재시작**
2. **브라우저에서 `http://localhost:5000/api/health` 직접 접속**
3. **백엔드 터미널의 에러 메시지 확인**

문제가 계속되면 백엔드 터미널의 전체 에러 메시지를 알려주세요!
