# 반 관리 및 중복 반 지원 가이드

## 🎯 주요 기능

### 1. 중복 반 지원
- 한 학생이 여러 반에 속할 수 있습니다
- 예: "A반,B반" 형태로 저장

### 2. 일괄 반 이동
- 여러 학생을 선택하여 한 번에 반 이동 가능

### 3. 반별 성적 입력
- 각 반별로 성적을 별도로 입력
- 같은 학생이 여러 반에 속하면 각 반별로 성적 입력

---

## 📋 사용 방법

### 학생 등록/수정 시 반 선택

1. **학생 등록** 또는 **학생 수정** 모달 열기
2. **반** 섹션에서:
   - 기존 반 목록에서 체크박스로 여러 반 선택
   - "새 반 추가" 체크 후 반 이름 입력
3. 저장

**예시:**
- A반 체크
- B반 체크
- 새 반 추가: "C반" 입력
→ 결과: A반, B반, C반에 모두 속함

---

### 일괄 반 이동

1. **학생 관리** 페이지에서:
   - 체크박스로 이동할 학생들 선택
   - 상단에 "N명 선택됨" 표시
2. **"반 이동"** 버튼 클릭
3. 이동할 반 선택:
   - 기존 반 목록에서 체크박스로 선택
   - "새 반 추가"로 새 반 추가 가능
4. **"이동"** 버튼 클릭

**주의:**
- 기존 반은 모두 제거되고 선택한 반으로 교체됩니다
- 예: 기존 "A반,B반" → "C반" 선택 → 결과: "C반"만

---

### 반별 성적 입력

1. **성적 입력** 페이지에서:
   - 반 선택 드롭다운에서 반 선택
   - 해당 반에 속한 학생들만 표시
2. 각 학생의 성적 입력
3. 저장

**중복 반 학생:**
- A반 선택 → A반에 속한 학생들 표시
- B반 선택 → B반에 속한 학생들 표시
- 같은 학생이 A반, B반에 모두 속하면 각각 입력 가능

---

## 💡 예시 시나리오

### 시나리오 1: 학생이 여러 반 수강

**상황:** 홍길동 학생이 A반과 B반을 모두 수강

1. **학생 등록:**
   - 이름: 홍길동
   - 반: A반 체크, B반 체크
   - 저장

2. **성적 입력:**
   - A반 선택 → 홍길동 학생 표시 → A반 성적 입력
   - B반 선택 → 홍길동 학생 표시 → B반 성적 입력

---

### 시나리오 2: 반 이동

**상황:** A반 학생 5명을 B반으로 이동

1. **학생 관리** 페이지에서:
   - 5명의 학생 체크박스 선택
   - "반 이동" 버튼 클릭
   - B반 선택
   - "이동" 클릭

**결과:** 5명 모두 B반으로 이동

---

## 🔍 데이터 구조

### 학생 테이블 (students)
- `class_name`: 콤마로 구분된 반 이름
  - 예: "A반,B반"
  - 예: "A반"

### 성적 테이블 (scores)
- `class_name`: 해당 성적이 어느 반의 성적인지
  - 예: "A반"
  - 같은 학생, 같은 날짜라도 반이 다르면 별도 성적

---

## 📝 주의사항

1. **반 이름 형식**
   - 반 이름은 정확히 일치해야 합니다
   - 예: "A반"과 "A"는 다릅니다

2. **성적 입력**
   - 반별로 별도 입력하므로, 같은 학생이라도 반이 다르면 각각 입력해야 합니다

3. **반 이동**
   - 기존 반은 모두 제거되고 새로 선택한 반으로 교체됩니다
   - 추가가 아닌 교체입니다

---

## 🚀 빠른 시작

1. **학생 등록**: 반을 여러 개 선택하여 등록
2. **성적 입력**: 반 선택 → 해당 반 학생들의 성적 입력
3. **반 이동**: 학생 선택 → 반 이동 버튼 → 반 선택 → 이동
