# 데이터 저장 위치 및 사용 가이드

## 📍 데이터 저장 위치

### 데이터베이스 파일 위치

```
C:\Users\HP\Desktop\DK_English\exam-report\database\exam_report.db
```

- **형식**: SQLite 데이터베이스 파일 (`.db`)
- **자동 생성**: 백엔드 서버가 처음 실행될 때 자동으로 생성됩니다
- **테이블 자동 생성**: 학생, 성적, 설정 등 모든 테이블이 자동으로 생성됩니다

---

## ✅ 미리 입력할 필요 없습니다!

**웹에서 직접 입력하면 자동으로 저장됩니다.**

1. **학생 등록**: 웹에서 학생 정보 입력 → 데이터베이스에 저장
2. **성적 입력**: 등록된 학생 선택 → 성적 입력 → 데이터베이스에 저장
3. **자동 계산**: 총점, 평균 등이 자동으로 계산되어 저장됩니다

---

## 🚀 테스트 순서

### 1단계: 학생 등록

1. 프론트엔드에서 "학생 관리" 메뉴 클릭
2. "학생 추가" 버튼 클릭
3. 다음 정보 입력:
   - 학생 이름
   - 학년
   - 반
   - 학생 전화번호 (선택)
   - 학부모 이름
   - **학부모 전화번호** (필수 - 카카오톡 발송용)
4. 저장 버튼 클릭

→ 데이터베이스의 `students` 테이블에 저장됩니다!

---

### 2단계: 성적 입력

1. "성적 입력" 메뉴 클릭
2. 학생 선택 (1단계에서 등록한 학생)
3. 시험 날짜 선택
4. 점수 입력:
   - **RT 점수**: 총 문제수, 맞춘 문제수
   - **단어시험**: 총 문제수, 맞춘 문제수 (84점 이하면 "재시험" 표시)
   - **과제점수**: 0-100점
   - **수업태도**: 0-100점
5. 저장 버튼 클릭

→ 자동 계산:
- RT 점수, 단어시험 점수 자동 계산
- 총점 (4개 영역 합계)
- 평균 (25% 가중치 동일)
- 반평균 계산

→ 데이터베이스의 `scores` 테이블에 저장됩니다!

---

## 💾 데이터베이스 구조

### 저장되는 데이터

1. **학생 정보** (`students` 테이블)
   - 이름, 학년, 반, 전화번호
   - 학부모 이름, 학부모 전화번호

2. **성적 정보** (`scores` 테이블)
   - 학생 ID (외래키)
   - 시험 날짜
   - RT 점수 (총 문제수, 맞춘 문제수, 계산된 점수)
   - 단어시험 점수 (총 문제수, 맞춘 문제수, 계산된 점수)
   - 과제점수, 수업태도
   - 총점, 평균, 반평균
   - 코멘트

3. **성적표 접근 토큰** (`report_access` 테이블)
   - 성적표 링크 토큰
   - 만료 시간 (7일)
   - 접근 이력

4. **설정** (`settings` 테이블)
   - 원장 종합 문구 등

---

## 🔍 데이터 확인 방법

### 방법 1: 웹 인터페이스에서 확인

- **학생 관리**: 등록된 모든 학생 목록 확인
- **성적 조회**: 입력한 성적 목록 확인
- **대시보드**: 전체 통계 확인

### 방법 2: 데이터베이스 파일 직접 확인 (고급)

SQLite 뷰어 프로그램 사용:
- DB Browser for SQLite (무료)
- https://sqlitebrowser.org/

---

## 📝 주의사항

1. **데이터베이스 파일 백업**
   - `database/exam_report.db` 파일을 정기적으로 백업하세요
   - 서버 재시작해도 데이터는 유지됩니다

2. **Git에 커밋되지 않음**
   - `.gitignore`에 포함되어 있어 Git에 올라가지 않습니다
   - 로컬 개발 데이터이므로 안전합니다

3. **데이터 초기화**
   - 데이터베이스 파일을 삭제하면 모든 데이터가 초기화됩니다
   - 서버 재시작 시 빈 테이블이 다시 생성됩니다

---

## 🎯 지금 바로 테스트!

1. **학생 1명 등록** (예: 홍길동, 3학년, A반)
2. **성적 1개 입력** (오늘 날짜로)
3. **성적 조회**에서 확인
4. **성적표 미리보기** 확인

모든 데이터는 자동으로 저장되므로, 웹에서 직접 입력하시면 됩니다! 🚀
